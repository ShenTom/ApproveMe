# ApproveMe API Documentation

## Description
The documentat for using ApproveMe server API. The server is deployed on [Glitch](glitch.com).

Server url: <https://approve-me-api.glitch.me/>

**INCLUDE THE ACCESS KEY IN THE HEADER TO USE THE API**

Sample Request Using Request Library

``` javascript
var request = require('request');

var options = {
    uri: url,
    method: 'POST',
    headers: {
        'Content-type': 'application/json',
        'access-key': access-key
    },
    json: msg
}

request(options, (err, resp, body)=> {
	console.log(JSON.parse(body));
});
```
- For more info about request, here is the link to its [official doc](https://github.com/request/request).


## API Endpoints

###Error message for any bad request

``` javascript
{ 
	"successful": false,
	"result": error message
}
```

### `/requests` [GET]
**GET Request**

Sample Response JSON

``` javascript
{ 
	"successful": true,
	"result": {
	    "accepted": [
	      {EVENT1},
	      ...
	    ],
	    "declined": [
	    	{EVENT2},
	    	...
	    ],
	    "pending": [
	    	{EVENT3},
	    	...
	    ]
	}
}
```

   * Return all the events in the database.


### `/requests/:user_id` [GET]
**GET Request**

Sample Response JSON

``` javascript
{ 
	"successful": true,
	"result": {
	    "requested": [
	      {EVENT1},
	      ...
	    ],
	    "tagged": [
	    	{EVENT2},
	    	...
	    ]
	}
}
```
   * Return all the events associated to that user id, sorted in "requested" and "tagged" categories.


### `/requests` [POST]

Sample Request JSON

```javascript
{
	"requester": "U79456HA5",
	"event": "Testing Add feature",
	"channel": "C8RQUTLU9",
	"tagged": {
	    "U79456HA5": 2,
	    "U7A5FL7P1": 1
	},
	"date": "03-18-2018",
	"description": "Testingggg",
	"urgency": "2"
}
```


Sample Response JSON

```javascript
{
	"successful": true,
	"result": {
		"_id": 1,
		"requester": "U79456HA5",
		"event": "Testing Add feature",
		"tagged": {
		    "U79456HA5": 2,
		    "U7A5FL7P1": 1
		},
		"date": "03-18-2018",
		"description": "Testingggg",
		"timestamp": 1525257024,
		"urgency": "2"
	}
}
```

   * Timestamp is generated by the server on the creation time.
   * **2**, **1**, **0** stands for **approved**, **pending**, and **declined** respectively.


### `/requests` [PUT]

### `/requests` [DELETE]

### `/approve` [POST]

### `/decline` [POST]

### `/notification` [POST]
  
